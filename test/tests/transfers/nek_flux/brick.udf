#include "udf.hpp"

void UDF_LoadKernels(occa::properties & kernelInfo)
{
}

void UDF_Setup()
{
  auto mesh = nrs->meshV;

  std::vector<dfloat> temp(mesh->Nlocal, 0.0);
  auto [x, y, z] = mesh->xyzHost();
  for (int n = 0; n < mesh->Nlocal; n++)
  {
    dfloat xn = x[n];
    dfloat yn = y[n];
    dfloat zn = z[n];
    temp[n] = (exp(xn) + sin(yn) + xn*yn*zn);
  }
  nrs->scalar->o_solution("temperature").copyFrom(temp.data(), temp.size());
}

void UDF_ExecuteStep(double time, int tstep)
{
}
